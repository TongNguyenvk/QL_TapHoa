# üì¶ H∆∞·ªõng d·∫´n Chi ti·∫øt Form Nh·∫≠p Kho

## üéØ T·ªïng quan

Form **Nh·∫≠p kho** (`frmNhapKho`) l√† m·ªôt trong nh·ªØng form quan tr·ªçng nh·∫•t c·ªßa h·ªá th·ªëng, cho ph√©p nh√¢n vi√™n kho nh·∫≠p h√†ng h√≥a t·ª´ nh√† cung c·∫•p v√†o kho. Form ƒë∆∞·ª£c thi·∫øt k·∫ø v·ªõi b·ªë c·ª•c 3 khu v·ª±c r√µ r√†ng s·ª≠ d·ª•ng **TableLayoutPanel** v√† **SplitContainer**.

---

## üèóÔ∏è Ki·∫øn tr√∫c B·ªë c·ª•c

### **C·∫•u tr√∫c 3 Khu v·ª±c Ch√≠nh**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  KHU V·ª∞C 1: TH√îNG TIN PHI·∫æU NH·∫¨P (120px)               ‚îÇ
‚îÇ  - Nh√¢n vi√™n nh·∫≠p, Ng√†y nh·∫≠p, Nh√† cung c·∫•p             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  KHU V·ª∞C 2: CHI TI·∫æT PHI·∫æU NH·∫¨P (Flexible)             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ T√¨m ki·∫øm SP  ‚îÇ  Chi ti·∫øt phi·∫øu nh·∫≠p              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (400px)      ‚îÇ  (C√≤n l·∫°i)                        ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  KHU V·ª∞C 3: T·ªîNG K·∫æT & CH·ª®C NƒÇNG (120px)               ‚îÇ
‚îÇ  - Ghi ch√∫ | T·ªïng ti·ªÅn & N√∫t ch·ª©c nƒÉng                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìã Chi ti·∫øt t·ª´ng Khu v·ª±c

### **1. Khu v·ª±c Th√¥ng tin Phi·∫øu nh·∫≠p (Tr√™n c√πng)**

#### **S·ª≠ d·ª•ng TableLayoutPanel v·ªõi 4 c·ªôt:**

| C·ªôt | Lo·∫°i | N·ªôi dung |
|-----|------|----------|
| 0 | Label (150px) | Nh√£n c·ªôt tr√°i |
| 1 | Control (50%) | Input c·ªôt tr√°i |
| 2 | Label (150px) | Nh√£n c·ªôt ph·∫£i |
| 3 | Control (50%) | Input c·ªôt ph·∫£i |

#### **Controls:**

**H√†ng 1:**
- üë§ **Nh√¢n vi√™n nh·∫≠p:** `txtNhanVien` (ReadOnly) - Hi·ªÉn th·ªã t√™n nh√¢n vi√™n ƒëang ƒëƒÉng nh·∫≠p
- üè¢ **Nh√† cung c·∫•p:** `cboNhaCungCap` (DropDownList) - Ch·ªçn nh√† cung c·∫•p

**H√†ng 2:**
- üìÖ **Ng√†y nh·∫≠p:** `dtpNgayNhap` (DateTimePicker) - M·∫∑c ƒë·ªãnh l√† ng√†y hi·ªán t·∫°i

#### **Code kh·ªüi t·∫°o:**

```csharp
private void frmNhapKho_Load(object sender, EventArgs e)
{
    txtNhanVien.Text = tenNhanVien;
    dtpNgayNhap.Value = DateTime.Now;
    
    LoadNhaCungCap();
    LoadSanPham();
    InitPhieuNhap();
}
```

---

### **2. Khu v·ª±c Chi ti·∫øt Phi·∫øu nh·∫≠p (·ªû gi·ªØa)**

#### **S·ª≠ d·ª•ng SplitContainer v·ªõi 2 Panel:**

#### **Panel Tr√°i (400px): T√¨m ki·∫øm & Th√™m s·∫£n ph·∫©m**

**Controls:**
- üîç **Label ti√™u ƒë·ªÅ:** "T√¨m ki·∫øm s·∫£n ph·∫©m"
- **TextBox t√¨m ki·∫øm:** `txtTimKiemSP` v·ªõi placeholder "üîç Nh·∫≠p t√™n s·∫£n ph·∫©m..."
- **DataGridView:** `dgvKetQuaTimKiem` hi·ªÉn th·ªã k·∫øt qu·∫£ t√¨m ki·∫øm

**C·ªôt trong dgvKetQuaTimKiem:**
- `MaHang` (50px)
- `TenHang` (Fill)
- `SoLuong` (70px) - T·ªìn kho hi·ªán t·∫°i
- `GiaBan` (90px) - Gi√° b√°n l·∫ª

**T√≠nh nƒÉng:**
- T√¨m ki·∫øm real-time khi g√µ
- Double-click ƒë·ªÉ th√™m v√†o phi·∫øu nh·∫≠p
- Hi·ªÉn th·ªã t·ªìn kho ƒë·ªÉ tham kh·∫£o

#### **Panel Ph·∫£i (C√≤n l·∫°i): Chi ti·∫øt phi·∫øu nh·∫≠p**

**Controls:**
- üìã **Label ti√™u ƒë·ªÅ:** "Chi ti·∫øt phi·∫øu nh·∫≠p"
- **DataGridView:** `dgvPhieuNhap` hi·ªÉn th·ªã chi ti·∫øt phi·∫øu

**C·ªôt trong dgvPhieuNhap:**
- `MaHang` (Hidden)
- `TenHang` (ReadOnly, Fill)
- `SoLuongNhap` (100px) - **C√≥ th·ªÉ s·ª≠a**
- `GiaNhap` (120px) - **C√≥ th·ªÉ s·ª≠a**
- `ThanhTien` (140px, ReadOnly) - T·ª± ƒë·ªông t√≠nh = SoLuongNhap √ó GiaNhap

**T√≠nh nƒÉng:**
- S·ª≠a s·ªë l∆∞·ª£ng v√† gi√° nh·∫≠p tr·ª±c ti·∫øp
- X√≥a d√≤ng b·∫±ng ph√≠m Delete
- T·ª± ƒë·ªông t√≠nh th√†nh ti·ªÅn

---

### **3. Khu v·ª±c T·ªïng k·∫øt & Ch·ª©c nƒÉng (D∆∞·ªõi c√πng)**

#### **S·ª≠ d·ª•ng TableLayoutPanel v·ªõi 2 c·ªôt (50%-50%):**

#### **C·ªôt Tr√°i: Ghi ch√∫**
- üìù **Label:** "Ghi ch√∫ phi·∫øu nh·∫≠p:"
- **TextBox:** `txtGhiChu` (Multiline) - Ghi ch√∫ t√πy ch·ªçn

#### **C·ªôt Ph·∫£i: T·ªïng ti·ªÅn & N√∫t ch·ª©c nƒÉng**
- üí∞ **Label:** "T·ªïng ti·ªÅn nh·∫≠p:"
- **Label gi√° tr·ªã:** `lblTongTienNhap` (Font 14, Bold, M√†u ƒë·ªè)
- üíæ **Button L∆∞u:** `btnLuuPhieuNhap` (M√†u xanh l√° #28A745)
- ‚ùå **Button H·ªßy:** `btnHuy` (M√†u x√°m #6C757D)

---

## üîß Logic Nghi·ªáp v·ª• Chi ti·∫øt

### **1. T·∫£i Nh√† cung c·∫•p**

```csharp
private void LoadNhaCungCap()
{
    string query = "SELECT MaNhaCungCap, TenNhaCungCap FROM NHACUNGCAP ORDER BY TenNhaCungCap";
    DataTable dt = DataAccess.ExecuteQuery(query);
    
    cboNhaCungCap.DataSource = dt;
    cboNhaCungCap.DisplayMember = "TenNhaCungCap";
    cboNhaCungCap.ValueMember = "MaNhaCungCap";
}
```

### **2. T√¨m ki·∫øm S·∫£n ph·∫©m Real-time**

```csharp
private void txtTimKiemSP_TextChanged(object sender, EventArgs e)
{
    if (txtTimKiemSP.ForeColor == System.Drawing.Color.Gray) return;

    if (dtSanPham != null)
    {
        DataView dv = dtSanPham.DefaultView;
        dv.RowFilter = $"TenHang LIKE '%{txtTimKiemSP.Text.Trim()}%'";
        dgvKetQuaTimKiem.DataSource = dv;
    }
}
```

### **3. Th√™m S·∫£n ph·∫©m v√†o Phi·∫øu (Double-click)**

```csharp
private void ThemVaoPhieuNhap(int maHang, string tenHang, decimal giaBan)
{
    DataRow[] existingRows = dtPhieuNhap.Select($"MaHang = {maHang}");
    
    if (existingRows.Length > 0)
    {
        // N·∫øu ƒë√£ c√≥, tƒÉng s·ªë l∆∞·ª£ng
        int soLuongHienTai = Convert.ToInt32(existingRows[0]["SoLuongNhap"]);
        existingRows[0]["SoLuongNhap"] = soLuongHienTai + 1;
    }
    else
    {
        // N·∫øu ch∆∞a c√≥, th√™m m·ªõi v·ªõi gi√° nh·∫≠p = 70% gi√° b√°n
        DataRow newRow = dtPhieuNhap.NewRow();
        newRow["MaHang"] = maHang;
        newRow["TenHang"] = tenHang;
        newRow["SoLuongNhap"] = 1;
        newRow["GiaNhap"] = giaBan * 0.7m; // Gi√° nh·∫≠p m·∫∑c ƒë·ªãnh
        dtPhieuNhap.Rows.Add(newRow);
    }

    TinhTongTien();
}
```

### **4. Validation khi S·ª≠a S·ªë l∆∞·ª£ng/Gi√°**

```csharp
private void dgvPhieuNhap_CellValueChanged(object sender, DataGridViewCellEventArgs e)
{
    if (e.RowIndex >= 0 && e.ColumnIndex >= 0)
    {
        string columnName = dgvPhieuNhap.Columns[e.ColumnIndex].Name;
        
        if (columnName == "SoLuongNhap")
        {
            int soLuong = 0;
            if (int.TryParse(row.Cells["SoLuongNhap"].Value?.ToString(), out soLuong))
            {
                if (soLuong <= 0)
                {
                    MessageBox.Show("S·ªë l∆∞·ª£ng ph·∫£i l·ªõn h∆°n 0!");
                    row.Cells["SoLuongNhap"].Value = 1;
                    return;
                }
            }
        }
        
        if (columnName == "GiaNhap")
        {
            decimal giaNhap = 0;
            if (decimal.TryParse(row.Cells["GiaNhap"].Value?.ToString(), out giaNhap))
            {
                if (giaNhap <= 0)
                {
                    MessageBox.Show("Gi√° nh·∫≠p ph·∫£i l·ªõn h∆°n 0!");
                    row.Cells["GiaNhap"].Value = 1000;
                    return;
                }
            }
        }

        TinhTongTien();
    }
}
```

### **5. L∆∞u Phi·∫øu nh·∫≠p v·ªõi SqlTransaction**

```csharp
private void LuuPhieuNhap()
{
    SqlConnection conn = null;
    SqlTransaction transaction = null;

    try
    {
        conn = DataAccess.GetConnection();
        conn.Open();
        transaction = conn.BeginTransaction();

        // B∆∞·ªõc 1: T√≠nh t·ªïng ti·ªÅn
        decimal tongTien = 0;
        foreach (DataRow row in dtPhieuNhap.Rows)
        {
            tongTien += Convert.ToDecimal(row["ThanhTien"]);
        }

        // B∆∞·ªõc 2: Th√™m PHIEUNHAP v√† l·∫•y MaPhieuNhap
        string queryPhieuNhap = @"INSERT INTO PHIEUNHAP 
                                 (MaNhanVien, MaNhaCungCap, NgayNhap, TongTienNhap) 
                                 OUTPUT INSERTED.MaPhieuNhap
                                 VALUES (@MaNhanVien, @MaNhaCungCap, @NgayNhap, @TongTienNhap)";
        SqlCommand cmdPhieuNhap = new SqlCommand(queryPhieuNhap, conn, transaction);
        cmdPhieuNhap.Parameters.AddWithValue("@MaNhanVien", maNhanVien);
        cmdPhieuNhap.Parameters.AddWithValue("@MaNhaCungCap", cboNhaCungCap.SelectedValue);
        cmdPhieuNhap.Parameters.AddWithValue("@NgayNhap", dtpNgayNhap.Value);
        cmdPhieuNhap.Parameters.AddWithValue("@TongTienNhap", tongTien);

        int maPhieuNhap = (int)cmdPhieuNhap.ExecuteScalar();

        // B∆∞·ªõc 3: Th√™m chi ti·∫øt NHAP v√† c·∫≠p nh·∫≠t t·ªìn kho
        foreach (DataRow row in dtPhieuNhap.Rows)
        {
            int maHang = Convert.ToInt32(row["MaHang"]);
            int soLuong = Convert.ToInt32(row["SoLuongNhap"]);
            decimal giaNhap = Convert.ToDecimal(row["GiaNhap"]);

            // Th√™m chi ti·∫øt nh·∫≠p
            string queryChiTiet = @"INSERT INTO NHAP 
                                   (MaPhieuNhap, MaHang, SoLuongNhap, GiaNhap) 
                                   VALUES (@MaPhieuNhap, @MaHang, @SoLuongNhap, @GiaNhap)";
            SqlCommand cmdChiTiet = new SqlCommand(queryChiTiet, conn, transaction);
            cmdChiTiet.Parameters.AddWithValue("@MaPhieuNhap", maPhieuNhap);
            cmdChiTiet.Parameters.AddWithValue("@MaHang", maHang);
            cmdChiTiet.Parameters.AddWithValue("@SoLuongNhap", soLuong);
            cmdChiTiet.Parameters.AddWithValue("@GiaNhap", giaNhap);
            cmdChiTiet.ExecuteNonQuery();

            // C·∫≠p nh·∫≠t t·ªìn kho (C·ªòNG th√™m)
            string queryUpdateKho = @"UPDATE HANGHOA 
                                     SET SoLuong = SoLuong + @SoLuong 
                                     WHERE MaHang = @MaHang";
            SqlCommand cmdUpdateKho = new SqlCommand(queryUpdateKho, conn, transaction);
            cmdUpdateKho.Parameters.AddWithValue("@SoLuong", soLuong);
            cmdUpdateKho.Parameters.AddWithValue("@MaHang", maHang);
            cmdUpdateKho.ExecuteNonQuery();
        }

        // B∆∞·ªõc 4: Commit transaction
        transaction.Commit();
        MessageBox.Show($"L∆∞u phi·∫øu nh·∫≠p th√†nh c√¥ng!\nM√£ phi·∫øu: {maPhieuNhap}\nT·ªïng ti·ªÅn: {tongTien:N0} ƒë",
            "Th√†nh c√¥ng", MessageBoxButtons.OK, MessageBoxIcon.Information);

        // B∆∞·ªõc 5: Reset form
        dtPhieuNhap.Clear();
        txtGhiChu.Clear();
        TinhTongTien();
        LoadSanPham(); // Reload ƒë·ªÉ c·∫≠p nh·∫≠t t·ªìn kho
    }
    catch (Exception ex)
    {
        transaction?.Rollback();
        MessageBox.Show("L·ªói l∆∞u phi·∫øu nh·∫≠p: " + ex.Message, "L·ªói",
            MessageBoxButtons.OK, MessageBoxIcon.Error);
    }
    finally
    {
        conn?.Close();
    }
}
```

---

## üé® H·ªá th·ªëng Thi·∫øt k·∫ø "Green Harmony"

### **M√†u s·∫Øc:**
- **Primary:** #28A745 (40, 167, 69) - N√∫t L∆∞u, Ti√™u ƒë·ªÅ
- **Background:** #F8F9FA (248, 249, 250) - Khu v·ª±c 1 & 3
- **White:** #FFFFFF - Khu v·ª±c 2
- **Danger:** #DC3545 (220, 53, 69) - T·ªïng ti·ªÅn
- **Gray:** #6C757D (108, 117, 125) - N√∫t H·ªßy

### **Font:**
- **Ti√™u ƒë·ªÅ:** Segoe UI, 12pt, Bold
- **Label:** Segoe UI, 10pt
- **Input:** Segoe UI, 10pt
- **T·ªïng ti·ªÅn:** Segoe UI, 14pt, Bold

### **Icon Emoji:**
- üë§ Nh√¢n vi√™n
- üè¢ Nh√† cung c·∫•p
- üìÖ Ng√†y nh·∫≠p
- üîç T√¨m ki·∫øm
- üìã Chi ti·∫øt
- üìù Ghi ch√∫
- üí∞ T·ªïng ti·ªÅn
- üíæ L∆∞u
- ‚ùå H·ªßy

---

## ‚úÖ Validation & Error Handling

### **1. Validation tr∆∞·ªõc khi L∆∞u:**
- ‚úÖ Phi·∫øu nh·∫≠p kh√¥ng ƒë∆∞·ª£c tr·ªëng
- ‚úÖ Ph·∫£i ch·ªçn nh√† cung c·∫•p
- ‚úÖ S·ªë l∆∞·ª£ng nh·∫≠p > 0
- ‚úÖ Gi√° nh·∫≠p > 0

### **2. X√°c nh·∫≠n:**
- X√°c nh·∫≠n tr∆∞·ªõc khi l∆∞u phi·∫øu
- X√°c nh·∫≠n tr∆∞·ªõc khi x√≥a s·∫£n ph·∫©m
- X√°c nh·∫≠n tr∆∞·ªõc khi h·ªßy phi·∫øu

### **3. Error Handling:**
- Try-catch cho t·∫•t c·∫£ database operations
- Rollback transaction n·∫øu c√≥ l·ªói
- Hi·ªÉn th·ªã th√¥ng b√°o l·ªói r√µ r√†ng

---

## üöÄ Workflow S·ª≠ d·ª•ng

### **Quy tr√¨nh Nh·∫≠p kho:**

1. **M·ªü form Nh·∫≠p kho**
   - T√™n nh√¢n vi√™n t·ª± ƒë·ªông hi·ªÉn th·ªã
   - Ng√†y nh·∫≠p m·∫∑c ƒë·ªãnh l√† h√¥m nay

2. **Ch·ªçn Nh√† cung c·∫•p**
   - Ch·ªçn t·ª´ ComboBox

3. **Th√™m S·∫£n ph·∫©m**
   - T√¨m ki·∫øm s·∫£n ph·∫©m
   - Double-click ƒë·ªÉ th√™m v√†o phi·∫øu
   - Ho·∫∑c nh·∫≠p tr·ª±c ti·∫øp v√†o grid

4. **ƒêi·ªÅu ch·ªânh Chi ti·∫øt**
   - S·ª≠a s·ªë l∆∞·ª£ng nh·∫≠p
   - S·ª≠a gi√° nh·∫≠p (m·∫∑c ƒë·ªãnh 70% gi√° b√°n)
   - X√≥a d√≤ng n·∫øu c·∫ßn

5. **Th√™m Ghi ch√∫** (t√πy ch·ªçn)

6. **Ki·ªÉm tra T·ªïng ti·ªÅn**

7. **L∆∞u Phi·∫øu nh·∫≠p**
   - X√°c nh·∫≠n
   - H·ªá th·ªëng t·ª± ƒë·ªông:
     - T·∫°o phi·∫øu nh·∫≠p
     - L∆∞u chi ti·∫øt
     - C·∫≠p nh·∫≠t t·ªìn kho
     - Hi·ªÉn th·ªã m√£ phi·∫øu

8. **Ho√†n t·∫•t**
   - Form t·ª± ƒë·ªông reset
   - S·∫µn s√†ng cho phi·∫øu ti·∫øp theo

---

## üìä C·∫•u tr√∫c Database

### **B·∫£ng PHIEUNHAP:**
```sql
CREATE TABLE PHIEUNHAP (
    MaPhieuNhap INT PRIMARY KEY IDENTITY,
    MaNhanVien INT,
    MaNhaCungCap INT,
    NgayNhap DATETIME,
    TongTienNhap DECIMAL(18,2)
)
```

### **B·∫£ng NHAP (Chi ti·∫øt):**
```sql
CREATE TABLE NHAP (
    MaPhieuNhap INT,
    MaHang INT,
    SoLuongNhap INT,
    GiaNhap DECIMAL(18,2),
    PRIMARY KEY (MaPhieuNhap, MaHang)
)
```

### **C·∫≠p nh·∫≠t HANGHOA:**
```sql
UPDATE HANGHOA 
SET SoLuong = SoLuong + @SoLuongNhap 
WHERE MaHang = @MaHang
```

---

## üéØ ƒêi·ªÉm N·ªïi b·∫≠t

### **1. Giao di·ªán Tr·ª±c quan:**
- B·ªë c·ª•c 3 khu v·ª±c r√µ r√†ng
- SplitContainer cho t√¨m ki·∫øm & chi ti·∫øt
- M√†u s·∫Øc h√†i h√≤a theo "Green Harmony"

### **2. Tr·∫£i nghi·ªám T·ªët:**
- T√¨m ki·∫øm real-time
- Double-click th√™m nhanh
- S·ª≠a tr·ª±c ti·∫øp trong grid
- T·ª± ƒë·ªông t√≠nh th√†nh ti·ªÅn

### **3. An to√†n D·ªØ li·ªáu:**
- SqlTransaction ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn
- Validation ƒë·∫ßy ƒë·ªß
- Error handling ch·∫∑t ch·∫Ω
- Rollback khi c√≥ l·ªói

### **4. Linh ho·∫°t:**
- Gi√° nh·∫≠p c√≥ th·ªÉ ƒëi·ªÅu ch·ªânh
- Ghi ch√∫ t√πy ch·ªçn
- X√≥a/s·ª≠a d·ªÖ d√†ng

---

## üìù L∆∞u √Ω Quan tr·ªçng

1. **Gi√° nh·∫≠p m·∫∑c ƒë·ªãnh:** 70% gi√° b√°n, c√≥ th·ªÉ s·ª≠a
2. **T·ªìn kho:** ƒê∆∞·ª£c C·ªòNG th√™m, kh√¥ng ghi ƒë√®
3. **Transaction:** ƒê·∫£m b·∫£o t·∫•t c·∫£ thao t√°c th√†nh c√¥ng ho·∫∑c rollback
4. **Validation:** Ki·ªÉm tra ƒë·∫ßy ƒë·ªß tr∆∞·ªõc khi l∆∞u
5. **Reload:** Sau khi l∆∞u, reload danh s√°ch ƒë·ªÉ c·∫≠p nh·∫≠t t·ªìn kho

---

## üèÜ K·∫øt lu·∫≠n

Form **Nh·∫≠p kho** l√† m·ªôt v√≠ d·ª• xu·∫•t s·∫Øc v·ªÅ:
- ‚úÖ Thi·∫øt k·∫ø UI/UX chuy√™n nghi·ªáp
- ‚úÖ B·ªë c·ª•c responsive v·ªõi TableLayoutPanel
- ‚úÖ Logic nghi·ªáp v·ª• ch·∫∑t ch·∫Ω
- ‚úÖ An to√†n d·ªØ li·ªáu v·ªõi Transaction
- ‚úÖ Tr·∫£i nghi·ªám ng∆∞·ªùi d√πng t·ªët

**S·∫µn s√†ng tri·ªÉn khai th·ª±c t·∫ø!** üéä
